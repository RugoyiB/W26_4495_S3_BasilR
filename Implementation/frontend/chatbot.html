<!DOCTYPE html>
<html>
<head>
  <title>Church Chatbot</title>
  <link rel="stylesheet" href="css/chatbot.css">
  
</head>

<body>

<div class="chatbox">
  <h3>Church Assistant</h3>

  <div class="messages" id="messages"></div>

  <input id="userInput" placeholder="Ask me about services, meetings, or groups">

   <button onclick="sendChat()">Send</button>
</div>

<script>
  const CHAT_API = "http://localhost:5000/api/chatbot";

  async function sendMessage() {
    const input = document.getElementById("userInput");
    const msg = input.value.trim();
    if (!msg) return;

    addMessage("You", msg, "user");
    input.value = "";

    const res = await fetch(CHAT_API, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: msg })
    });

    const data = await res.json();
    addMessage("Bot", data.reply, "bot");
  }

  function addMessage(sender, text, cls) {
    const box = document.getElementById("messages");
    const div = document.createElement("div");
    div.className = cls;
    div.innerText = `${sender}: ${text}`;
    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
  }
</script>

</body>
</html>
